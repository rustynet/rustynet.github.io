
 Техника на службе киберпанка

 ze_d0g : Адаптер для управления устройствами с ПК через LPT интерфейс

 Схема и драйвера под Win by Leshiy
 

 Устройство, о котором данная статья, позволит управлять включением-выключением
 приборов, которые работают от сети 220 В, с компьютера.

 Предисловие :
  
  Ночь. Работа в самом разгаре, но тут вдруг понадобилось включить свет в  вашей
  обители. Нужно  вставать, снимать  наушники, идти  к выключателю,  нажимать на
  него. Потом, что бы выключить свет, вам нужно повторить ту же процедуру.. А не
  проще было бы не вставая из-за  своей системы, просто набрать в консоли  "lite
  on",  или просто  кликнуть один  раз мышкой?  Техника должна  упрощать жизнь!
  Спаяем  простенький   модуль  для   управления  светом   (а  вообще   -  любым
  электроприбором), напишем драйвера под него, и будем наслыждаться жизнью!
  
 Матчасть.

  В  компьюетере  есть  замечательный  интерфейс  LPT.  Он  позволяет подключать
  множество  стандартных устройств,  а если  мы можем  написать драйвера,  то и
  множество нестандартных. В LPT имееться  25 контактов. Из них  8  используются
  для подачи  напряжения. Их  мы и  будем использовать.  Схема очень простая. Мы
  подаем на розетку напряжение от LTP порта в 5 В и таким образом замыкаем  сеть
  в 220 В, куда подключено какое-либо устройство, например лампа. Если мы подаем
  напряжение, то сеть замыкается и наоборот.

  Схема  адаптера  основана   на  диодном  мосте   и  оптроне,  который   делает
  использование схемы более безопасным.


  >>> Схема устройства в прилагаемом файле cxema.gif.

  
  Подключаем  синий  провод  на  землю (любой из 18-25 выводов LPT), красный  на 
  один из контактов питания (1-8 выводы LPT).

  Стоимость деталей не превысит 3$. Собрать модуль - тоже не проблема.

  Вот и всё. Меры безопасности уточнять не будем. Всё, что вы делаете - на вашей
  ответственности.  Просто  хорошо всё  изолируйте  и тестируйте  прибор  на чём
  -нибудь дешевом, мы тестировали на простой 100-ватной лампе.
  
 Использование. 

        Ну уж тут границы ставит только ваша фантазия. У меня подключено
        освещение и кофеварка. ;)


 Хинт :	под  windows  очень  неприятно использовать  данный  модуль,  потому как
	иногда windows произвольно подаёт питание  на ВСЕ контакты LPT порта.  И
	вообще  windows  "заботясь о  сохранении  энергии" автоматически  подаёт
	питание на  все контакты  LPT при  включении компьютера.  В драйвере под
	windows эта проблема устранена.

 Хинт : поскольку в LPT  есть 8 контактов  с напряжением, то,  соответственно мы
	можем подключить  8 устройств.  Но для  каждого нужно  собрать отдельную
	киберрозетку. Теоретически не трудно собрать киберрозетку на логике, так
	что количество  устройств будет  неограничено. Но  пока в  этом не  было
	потребности.
 


 ------------------------------------------------------------------------------

 Драйвер для FreeBSD (by ze_d0g): Простенький портабельный дравер. Легко можете
                                  вставлять код в ваши программы. Позволяет
                                  подключать любое количество приборов.

 >>> в файле uzcs.c

 
 ------------------------------------------------------------------------------
  
 Драйвер для Windows (by Leshiy): маленькая функциональная программка, висит
                                  в трэе, поддерживает обращение через 
                                  командную строку,так что вы сможете обращать-
                                  ся к ней из сфоих программ. 
 В двух вариантах :

  simple - просто включение-выключение киберрозетки.

  expert - можно выбирать контакты для подключения, устанавливать маску и т.п.


 >>> в каталоге \wzcs

 ------------------------------------------------------------------------------

					[CiN]